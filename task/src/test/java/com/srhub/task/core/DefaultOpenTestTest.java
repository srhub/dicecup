package com.srhub.task.core;

import static org.junit.Assert.assertEquals;

import org.junit.Test;

import com.srhub.dicecup.api.Dice;
import com.srhub.dicecup.core.Cup;
import com.srhub.dicecup.dice.CyclicDice;
import com.srhub.task.api.OpenTest;
import com.srhub.task.core.Tests;
import com.srhub.task.core.DefaultOpenTest.Result;

public class DefaultOpenTestTest {

	@Test
	public void test() {

		final Dice dice = CyclicDice.add(1, 2, 4, 5, 5).build(6);
		final Cup cup = Cup.add(dice).build();

		final OpenTest<Result> newOpenTest = Tests.newOpenTest();

		final int expectedResult = 1 + 2 + 4 + 5 + 5;
		final int actualResult = newOpenTest.evaluate(cup.roll(5)).getHighest();

		assertEquals(expectedResult, actualResult);

	}
}
